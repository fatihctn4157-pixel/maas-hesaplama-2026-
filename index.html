<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>2026 Profesyonel Bordro</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0f172a">

<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:#0f172a;
color:#e2e8f0;
}

.container{
max-width:1100px;
margin:auto;
padding:20px;
}

h1{
text-align:center;
margin-bottom:20px;
}

.card{
background:#1e293b;
padding:20px;
border-radius:12px;
margin-bottom:20px;
box-shadow:0 4px 15px rgba(0,0,0,0.3);
}

input{
width:100%;
padding:10px;
margin:8px 0;
border-radius:8px;
border:none;
font-size:16px;
}

button{
width:100%;
padding:12px;
background:#2563eb;
border:none;
color:white;
border-radius:8px;
font-size:16px;
cursor:pointer;
margin-top:10px;
}

button:hover{
background:#1d4ed8;
}

.summary{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
gap:15px;
margin-top:20px;
}

.summary-box{
background:#111827;
padding:15px;
border-radius:10px;
border-left:4px solid #2563eb;
}

table{
width:100%;
border-collapse:collapse;
margin-top:20px;
font-size:14px;
}

th,td{
padding:8px;
border:1px solid #334155;
text-align:right;
}

th{
background:#1e293b;
}

td:first-child, th:first-child{
text-align:left;
}

.install-btn{
position:fixed;
bottom:20px;
right:20px;
background:#16a34a;
padding:12px 18px;
border-radius:30px;
color:white;
display:none;
}
</style>
</head>

<body>
<div class="container">

<h1>2026 Kurumsal Bordro Sistemi</h1>

<div class="card">
<label>Net Saat Ãœcreti</label>
<input type="number" id="netSaat" placeholder="Ã–rn: 301.87">

<label>Mart Zam (%)</label>
<input type="number" id="martZam" placeholder="Ã–rn: 15">

<label>EylÃ¼l Zam (%)</label>
<input type="number" id="eylulZam" placeholder="Ã–rn: 10">

<button onclick="hesapla()">HESAPLA</button>
</div>

<div id="ozet"></div>
<div id="bordro"></div>

</div>

<button class="install-btn" id="installBtn">ðŸ“² UygulamayÄ± YÃ¼kle</button>

<script>
let deferredPrompt;

window.addEventListener('beforeinstallprompt', (e)=>{
e.preventDefault();
deferredPrompt = e;
document.getElementById('installBtn').style.display="block";
});

document.getElementById('installBtn').addEventListener('click', ()=>{
deferredPrompt.prompt();
});

if('serviceWorker' in navigator){
navigator.serviceWorker.register('service-worker.js');
}

function tl(x){
return x.toLocaleString('tr-TR',{minimumFractionDigits:2})+" TL";
}

function hesapla(){

let netSaat = parseFloat(document.getElementById("netSaat").value);
let martZam = parseFloat(document.getElementById("martZam").value)/100;
let eylulZam = parseFloat(document.getElementById("eylulZam").value)/100;

let aylikSaat = 225;

let ocakNet = netSaat * aylikSaat;
let martNetSaat = netSaat * (1+martZam);
let martNet = martNetSaat * aylikSaat;
let eylulNetSaat = martNetSaat * (1+eylulZam);
let eylulNet = eylulNetSaat * aylikSaat;

let ozetHTML = `
<div class="summary">
<div class="summary-box">
<h3>BaÅŸlangÄ±Ã§</h3>
Saat: ${tl(netSaat)}<br>
AylÄ±k Net: ${tl(ocakNet)}<br>
%40 Avans: ${tl(ocakNet*0.40)}
</div>

<div class="summary-box">
<h3>Mart ZamlÄ±</h3>
Saat: ${tl(martNetSaat)}<br>
AylÄ±k Net: ${tl(martNet)}<br>
%40 Avans: ${tl(martNet*0.40)}
</div>

<div class="summary-box">
<h3>EylÃ¼l ZamlÄ±</h3>
Saat: ${tl(eylulNetSaat)}<br>
AylÄ±k Net: ${tl(eylulNet)}<br>
%40 Avans: ${tl(eylulNet*0.40)}
</div>
</div>
`;

document.getElementById("ozet").innerHTML = ozetHTML;

let aylar=["Ocak","Åžubat","Mart","Nisan","MayÄ±s","Haziran","Temmuz","AÄŸustos","EylÃ¼l","Ekim","KasÄ±m","AralÄ±k"];

let tablo="<div class='card'><h3>2026 DetaylÄ± Bordro</h3><table><tr><th>Ay</th><th>BrÃ¼t</th><th>SGK</th><th>Ä°ÅŸsizlik</th><th>Gelir Vergisi</th><th>Damga</th><th>Net</th></tr>";

let kumulatif=0;

for(let i=0;i<12;i++){

let aktifNetSaat = netSaat;
if(i>=2) aktifNetSaat = martNetSaat;
if(i>=8) aktifNetSaat = eylulNetSaat;

let brut = aktifNetSaat*1.33*aylikSaat;
let sgk = brut*0.14;
let issizlik = brut*0.01;

kumulatif += brut-sgk-issizlik;

let gvOran=0.15;
if(kumulatif>5300000) gvOran=0.40;
else if(kumulatif>1500000) gvOran=0.35;
else if(kumulatif>400000) gvOran=0.27;
else if(kumulatif>190000) gvOran=0.20;

let gv = (brut-sgk-issizlik)*gvOran;
let damga = brut*0.00759;
let net = brut-sgk-issizlik-gv-damga;

tablo+=`<tr>
<td>${aylar[i]}</td>
<td>${tl(brut)}</td>
<td>${tl(sgk)}</td>
<td>${tl(issizlik)}</td>
<td>${tl(gv)}</td>
<td>${tl(damga)}</td>
<td>${tl(net)}</td>
</tr>`;
}

tablo+="</table></div>";

document.getElementById("bordro").innerHTML = tablo;

}
</script>

</body>
</html>
